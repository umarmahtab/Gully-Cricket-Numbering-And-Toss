<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cricket Numbering Game</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #111827; /* gray-900 */
        }
        .cricket-seam {
            stroke: rgba(255, 255, 255, 0.4);
            stroke-width: 2;
            stroke-dasharray: 4 4;
        }
        .ball-revealed {
            background-color: #D4AF37 !important; /* Gold color */
            color: #111827;
            border-color: #fff;
        }
        .ball-chosen {
            transform: scale(0.95);
            opacity: 0.7;
        }
        .coin {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 1s;
        }
        .coin-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
            border-radius: 50%;
            border: 5px solid #D4AF37; /* Gold */
            color: #111827;
        }
        .heads {
            background: linear-gradient(145deg, #f0e68c, #b8860b);
            transform: rotateY(0deg);
        }
        .tails {
            background: linear-gradient(145deg, #b8860b, #f0e68c);
            transform: rotateY(180deg);
        }
        .toss-animation {
            animation: toss 3s forwards;
        }
        @keyframes toss {
            0% { transform: rotateY(0deg); }
            100% { transform: rotateY(1800deg); } /* Multiple spins */
        }
        /* Custom scrollbar for batting order */
        #battingOrderList::-webkit-scrollbar {
            width: 8px;
        }
        #battingOrderList::-webkit-scrollbar-track {
            background: #1F2937; /* gray-800 */
        }
        #battingOrderList::-webkit-scrollbar-thumb {
            background: #4B5563; /* gray-600 */
            border-radius: 4px;
        }
        #battingOrderList::-webkit-scrollbar-thumb:hover {
            background: #6B7280; /* gray-500 */
        }
    </style>
</head>
<body class="text-white">

    <div class="flex flex-col md:flex-row min-h-screen">
        <!-- Sidebar -->
        <aside class="bg-gray-900 text-gray-300 w-full md:w-64 p-4 md:p-6 space-y-4 md:space-y-6 border-b-2 md:border-b-0 md:border-r-2 border-gray-700">
            <h1 class="text-2xl font-bold text-white text-center">Cricket Suite</h1>
            <nav class="flex flex-row md:flex-col justify-center md:justify-start md:space-y-2 space-x-2 md:space-x-0">
                <button id="navNumberingGame" class="w-full text-left px-4 py-3 rounded-lg font-semibold bg-gray-700 text-white transition-all duration-200">Numbering Game</button>
                <button id="navCoinToss" class="w-full text-left px-4 py-3 rounded-lg font-semibold hover:bg-gray-700 hover:text-white transition-all duration-200">Coin Toss</button>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 p-4 sm:p-6 lg:p-8 relative">
            <!-- Watermark -->
            <div class="absolute bottom-4 right-4 text-xs text-gray-500 font-mono">Made by Umar</div>

            <!-- Numbering Game Section -->
            <section id="numbering-game">
                <div class="max-w-4xl mx-auto">
                    <h2 class="text-3xl font-bold mb-6 text-center text-yellow-400">Batting Order Numbering</h2>
                    
                    <!-- Game Status/Instructions -->
                    <div id="gameStatus" class="bg-gray-800 p-4 rounded-lg mb-6 text-center text-gray-300 min-h-[50px]">
                        Enter the number of players to begin.
                    </div>

                    <!-- Player Setup -->
                    <div id="playerSetup" class="bg-gray-800 p-6 rounded-lg shadow-lg">
                        <div class="flex flex-col sm:flex-row items-center gap-4">
                            <label for="numPlayers" class="font-semibold whitespace-nowrap">Number of Players:</label>
                            <input type="number" id="numPlayers" min="1" max="12" class="bg-gray-700 border border-gray-600 rounded-lg p-2 w-full sm:w-24 text-center focus:ring-2 focus:ring-yellow-400 focus:outline-none">
                            <button id="startNumberingGame" class="w-full sm:w-auto bg-yellow-500 hover:bg-yellow-600 text-gray-900 font-bold py-2 px-6 rounded-lg transition-transform duration-200 hover:scale-105 disabled:bg-gray-600 disabled:cursor-not-allowed" disabled>Start Game</button>
                        </div>
                        <div id="playerNamesContainer" class="mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"></div>
                    </div>

                    <!-- Game Area -->
                    <div id="gameArea" class="hidden mt-6">
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div id="ballSelectionContainer" class="md:col-span-2 bg-gray-800 p-6 rounded-lg shadow-lg">
                                <h3 class="text-xl font-semibold mb-4 text-center">Click a Ball to Claim Your Spot</h3>
                                <div id="ballsGrid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 justify-items-center">
                                    <!-- Balls will be generated here -->
                                </div>
                            </div>
                            <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
                                <h3 class="text-xl font-semibold mb-4 text-center">Batting Order</h3>
                                <ul id="battingOrderList" class="space-y-2 max-h-96 overflow-y-auto pr-2">
                                    <!-- Batting order will be populated here -->
                                </ul>
                            </div>
                        </div>
                        <div class="text-center mt-8">
                            <button id="resetGame" class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-8 rounded-lg transition-transform duration-200 hover:scale-105">Reset Game</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Coin Toss Section -->
            <section id="coin-toss" class="hidden">
                 <div class="max-w-md mx-auto">
                    <h2 class="text-3xl font-bold mb-6 text-center text-yellow-400">Coin Toss</h2>
                    <div class="bg-gray-800 p-8 rounded-lg shadow-lg space-y-6">
                        <div class="space-y-4">
                            <div>
                                <label for="captain1" class="block mb-1 font-semibold">Captain 1 Name:</label>
                                <input type="text" id="captain1" placeholder="e.g., Player A" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-2 focus:ring-2 focus:ring-yellow-400 focus:outline-none">
                            </div>
                            <div>
                                <label for="captain2" class="block mb-1 font-semibold">Captain 2 Name:</label>
                                <input type="text" id="captain2" placeholder="e.g., Player B" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-2 focus:ring-2 focus:ring-yellow-400 focus:outline-none">
                            </div>
                        </div>
                        <button id="tossCoinBtn" class="w-full bg-yellow-500 hover:bg-yellow-600 text-gray-900 font-bold py-3 px-6 rounded-lg text-lg transition-transform duration-200 hover:scale-105">Toss Coin!</button>
                        <div id="tossResultContainer" class="text-center pt-6 space-y-4 min-h-[180px]">
                            <!-- Coin and result will appear here -->
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Modal -->
    <div id="revealModal" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center hidden z-50">
        <div class="bg-gray-800 border-2 border-yellow-400 text-white p-8 rounded-lg shadow-2xl text-center max-w-sm mx-auto">
            <h3 id="modalPlayerName" class="text-2xl font-bold mb-4"></h3>
            <p class="text-lg mb-2">Your batting number is:</p>
            <div id="modalBattingNumber" class="text-8xl font-bold my-4 text-yellow-400"></div>
            <button id="closeModal" class="mt-6 bg-yellow-500 hover:bg-yellow-600 text-gray-900 font-bold py-2 px-6 rounded-lg">OK</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- DOM Elements ---
            const navNumberingGame = document.getElementById('navNumberingGame');
            const navCoinToss = document.getElementById('navCoinToss');
            const numberingGameSection = document.getElementById('numbering-game');
            const coinTossSection = document.getElementById('coin-toss');

            const numPlayersInput = document.getElementById('numPlayers');
            const playerNamesContainer = document.getElementById('playerNamesContainer');
            const startNumberingGameBtn = document.getElementById('startNumberingGame');
            const gameStatus = document.getElementById('gameStatus');
            const playerSetup = document.getElementById('playerSetup');
            const gameArea = document.getElementById('gameArea');
            const ballsGrid = document.getElementById('ballsGrid');
            const battingOrderList = document.getElementById('battingOrderList');
            const resetGameBtn = document.getElementById('resetGame');

            const revealModal = document.getElementById('revealModal');
            const modalPlayerName = document.getElementById('modalPlayerName');
            const modalBattingNumber = document.getElementById('modalBattingNumber');
            const closeModalBtn = document.getElementById('closeModal');

            const captain1Input = document.getElementById('captain1');
            const captain2Input = document.getElementById('captain2');
            const tossCoinBtn = document.getElementById('tossCoinBtn');
            const tossResultContainer = document.getElementById('tossResultContainer');

            // --- Game State ---
            let players = [];
            let battingNumbers = [];
            let currentPlayerIndex = 0;
            let revealedCount = 0;
            let totalPlayers = 0;
            const ballColors = ['#DC2626', '#16A34A', '#2563EB', '#D97706', '#9333EA', '#475569', '#DB2777', '#0891B2', '#65A30D', '#BE185D', '#5B21B6', '#047857'];

            // --- Navigation Logic ---
            function switchView(view) {
                if (view === 'numbering') {
                    numberingGameSection.classList.remove('hidden');
                    coinTossSection.classList.add('hidden');
                    navNumberingGame.classList.add('bg-gray-700', 'text-white');
                    navCoinToss.classList.remove('bg-gray-700', 'text-white');
                } else {
                    numberingGameSection.classList.add('hidden');
                    coinTossSection.classList.remove('hidden');
                    navCoinToss.classList.add('bg-gray-700', 'text-white');
                    navNumberingGame.classList.remove('bg-gray-700', 'text-white');
                }
            }
            navNumberingGame.addEventListener('click', () => switchView('numbering'));
            navCoinToss.addEventListener('click', () => switchView('coin'));

            // --- Numbering Game Logic ---

            // Generate player name inputs
            numPlayersInput.addEventListener('input', () => {
                const count = parseInt(numPlayersInput.value);
                playerNamesContainer.innerHTML = '';
                if (count >= 1 && count <= 12) {
                    for (let i = 1; i <= count; i++) {
                        const inputDiv = document.createElement('div');
                        inputDiv.innerHTML = `
                            <label for="player${i}" class="block text-sm font-medium text-gray-400 mb-1">Player ${i}</label>
                            <input type="text" id="player${i}" placeholder="Enter name" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-2 focus:ring-2 focus:ring-yellow-400 focus:outline-none">
                        `;
                        playerNamesContainer.appendChild(inputDiv);
                    }
                    startNumberingGameBtn.disabled = false;
                } else {
                    startNumberingGameBtn.disabled = true;
                }
            });

            // Start the game
            startNumberingGameBtn.addEventListener('click', () => {
                players = [];
                const nameInputs = playerNamesContainer.querySelectorAll('input');
                let allNamesValid = true;
                nameInputs.forEach((input, index) => {
                    if (input.value.trim() === '') {
                        input.style.borderColor = '#EF4444'; // red-500
                        allNamesValid = false;
                    } else {
                        input.style.borderColor = '#4B5563'; // gray-600
                        players.push({ name: input.value.trim(), ballIndex: null, number: null });
                    }
                });

                if (!allNamesValid) {
                    gameStatus.textContent = "Please enter all player names.";
                    return;
                }

                totalPlayers = players.length;
                playerSetup.classList.add('hidden');
                gameArea.classList.remove('hidden');
                
                setupGame();
            });

            // Setup game board
            function setupGame() {
                // Generate and shuffle batting numbers
                battingNumbers = Array.from({ length: totalPlayers }, (_, i) => i + 1);
                for (let i = battingNumbers.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [battingNumbers[i], battingNumbers[j]] = [battingNumbers[j], battingNumbers[i]];
                }

                // Create balls
                ballsGrid.innerHTML = '';
                for (let i = 0; i < totalPlayers; i++) {
                    const ball = document.createElement('div');
                    ball.className = 'w-24 h-24 rounded-full flex items-center justify-center text-4xl font-bold cursor-pointer transition-all duration-300 border-4 border-transparent hover:border-yellow-400';
                    ball.style.backgroundColor = ballColors[i % ballColors.length];
                    ball.dataset.index = i;
                    ball.dataset.number = battingNumbers[i];
                    ball.innerHTML = `
                        <svg class="w-full h-full" viewBox="0 0 100 100">
                            <path class="cricket-seam" d="M 50,0 A 50,50 0 0,0 50,100" fill="none" />
                            <path class="cricket-seam" d="M 50,0 A 50,50 0 0,1 50,100" fill="none" />
                        </svg>
                    `;
                    ballsGrid.appendChild(ball);
                }
                updateStatus();
            }

            // Handle ball clicks
            ballsGrid.addEventListener('click', (e) => {
                const ball = e.target.closest('div[data-index]');
                if (!ball || ball.classList.contains('ball-chosen')) return;

                ball.classList.add('ball-chosen');
                players[currentPlayerIndex].ballIndex = parseInt(ball.dataset.index);
                
                currentPlayerIndex++;
                updateStatus();

                if (currentPlayerIndex === totalPlayers) {
                    gameStatus.textContent = 'All balls chosen! Revealing numbers...';
                    setTimeout(revealNextNumber, 1500);
                }
            });

            // Reveal numbers sequentially
            function revealNextNumber() {
                if (revealedCount >= totalPlayers) {
                    gameStatus.textContent = 'Batting order finalized!';
                    return;
                }

                const playerToReveal = players.find(p => p.ballIndex === revealedCount);
                const number = battingNumbers[revealedCount];
                playerToReveal.number = number;

                // Show modal
                modalPlayerName.textContent = playerToReveal.name;
                modalBattingNumber.textContent = number;
                revealModal.classList.remove('hidden');

                // Update ball on grid
                const ballOnGrid = ballsGrid.querySelector(`[data-index="${revealedCount}"]`);
                ballOnGrid.classList.add('ball-revealed');
                ballOnGrid.innerHTML = `<span>${number}</span>`;

                // Update batting order list
                updateBattingOrderDisplay();
                
                revealedCount++;
            }
            
            closeModalBtn.addEventListener('click', () => {
                revealModal.classList.add('hidden');
                // Trigger next reveal after a short delay
                setTimeout(revealNextNumber, 500);
            });

            function updateBattingOrderDisplay() {
                battingOrderList.innerHTML = '';
                const sortedPlayers = players
                    .filter(p => p.number !== null)
                    .sort((a, b) => a.number - b.number);
                
                sortedPlayers.forEach(p => {
                    const li = document.createElement('li');
                    li.className = 'bg-gray-700 p-3 rounded-lg flex justify-between items-center';
                    li.innerHTML = `
                        <span class="font-semibold">${p.name}</span>
                        <span class="bg-yellow-500 text-gray-900 font-bold rounded-full w-8 h-8 flex items-center justify-center">${p.number}</span>
                    `;
                    battingOrderList.appendChild(li);
                });
            }

            // Update game status message
            function updateStatus() {
                if (currentPlayerIndex < totalPlayers) {
                    gameStatus.textContent = `Player ${currentPlayerIndex + 1} (${players[currentPlayerIndex].name}), please pick a ball.`;
                }
            }

            // Reset the game
            resetGameBtn.addEventListener('click', () => {
                players = [];
                battingNumbers = [];
                currentPlayerIndex = 0;
                revealedCount = 0;
                totalPlayers = 0;

                playerSetup.classList.remove('hidden');
                gameArea.classList.add('hidden');
                numPlayersInput.value = '';
                playerNamesContainer.innerHTML = '';
                startNumberingGameBtn.disabled = true;
                battingOrderList.innerHTML = '';
                ballsGrid.innerHTML = '';
                gameStatus.textContent = 'Enter the number of players to begin.';
            });

            // --- Coin Toss Logic ---
            tossCoinBtn.addEventListener('click', () => {
                const cap1 = captain1Input.value.trim() || 'Captain 1';
                const cap2 = captain2Input.value.trim() || 'Captain 2';

                tossResultContainer.innerHTML = `
                    <div class="flex justify-center">
                        <div class="coin">
                            <div class="coin-face heads">H</div>
                            <div class="coin-face tails">T</div>
                        </div>
                    </div>
                `;
                
                const coinElement = tossResultContainer.querySelector('.coin');
                const isHeads = Math.random() < 0.5;
                const resultSide = isHeads ? 'Heads' : 'Tails';
                const winner = isHeads ? cap1 : cap2;
                
                // Animate the toss
                coinElement.style.transform = `rotateY(${1800 + (isHeads ? 0 : 180)}deg)`;

                // Display result after animation
                setTimeout(() => {
                    tossResultContainer.innerHTML += `
                        <p class="text-2xl font-bold mt-4">It's <span class="text-yellow-400">${resultSide}</span>!</p>
                        <p class="text-xl">${winner} won the toss.</p>
                    `;
                }, 3000);
            });
        });
    </script>
</body>
</html>
   